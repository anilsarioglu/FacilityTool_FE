<ion-header [translucent]="true">
    <ion-toolbar color="danger">
        <ion-title class="ion-text-center">
            Meldingen
        </ion-title>
    </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
    <ion-header collapse="condense">
        <ion-toolbar>
            <ion-title size="large">Meldingen</ion-title>
        </ion-toolbar>
    </ion-header>

    <ion-list>
        <ion-item>
            <ion-label>Sorteer op:</ion-label>
            <ion-select [(ngModel)]="sortVal" name="sorting" placeholder="Selecteer filter" (ionChange)="sortAll()">
                <ion-select-option value="datum">Datum</ion-select-option>
                <ion-select-option value="type">Type</ion-select-option>
                <ion-select-option value="locatie">Locatie</ion-select-option>
                <ion-select-option value="status">Status</ion-select-option>
            </ion-select>
        </ion-item>
    </ion-list>

    <p>Opdracht</p><ion-toggle [(ngModel)]="toggle" (ionChange)="toggleOpdDef()"></ion-toggle><p>Defect</p>

    <ion-searchbar (ionInput)="searchItems($event)"></ion-searchbar>
    <ion-grid>
        <ion-row>
            <ion-col *ngFor="let ml of kopieLijstVanMeldingen;let i = index;" id="kaart">
                <ion-card>
                    <ion-item>
                        <ion-icon name="pin" slot="start"></ion-icon>
                        <ion-label> {{ml.melder}} - {{ml.pNummer}}</ion-label>
                        <ion-button fill="outline" type="button" (click)="detailMelding(ml)">View
                        </ion-button>
                        <ion-button style="zoom:1.5;" color="danger" slot="end" type="button" (click)="deleteMelding(i,$event,ml.id)" class="btn btn-danger remove-btn">
                            <ion-icon name="trash"></ion-icon>
                        </ion-button>

                    </ion-item>
                    <div *ngFor="let mlpu of ml.photos;let i=index;" style=" width: 100%;height:100%;">
                        <img style="float: right" *ngIf="i==0 && mlpu.url" [src]="mlpu.url">
                    </div>

                    <ion-card-content>
                        <p>{{ml.datum}}</p>
                        <p>{{ml.locatie}}</p>
                        <p> {{ml.type}}</p>
                        <p> {{ml.beschrijving}}</p>
                        <p> {{ml.locatiebeschr}}</p>

                    </ion-card-content>
                </ion-card>
            </ion-col>
        </ion-row>
    </ion-grid>



    <ion-fab (click)="addMelding()" vertical="bottom" horizontal="end" slot="fixed">
        <ion-fab-button color="danger">
            <ion-icon name="add"></ion-icon>
        </ion-fab-button>
    </ion-fab>

</ion-content>